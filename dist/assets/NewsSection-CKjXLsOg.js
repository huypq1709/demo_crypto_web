import{b as f,r as m,u as b,j as e,m as u,R as v,A as N,T as j,d as k}from"./index-Cw8TOd26.js";const y="YOUR_NEWS_API_KEY_HERE",B="e79d73cd78130a3773bfbaca45e3aa83a04c61be3d8932b0e4a7aff26ec15724",A="https://min-api.cryptocompare.com/data/v2/news/",d=(n,i)=>{const t=["bullish","rally","surge","breakthrough","adoption","institutional","etf","approval","green","gains","moon","hodl","diamond hands","tăng giá","đột phá","lợi nhuận","tích cực","tăng trưởng","thành công"],a=["bearish","crash","drop","decline","regulation","ban","crackdown","fud","dump","sell-off","correction","bear market","recession","giảm giá","sụp đổ","rủi ro","tiêu cực","giảm","thất bại"],o=`${n} ${i||""}`.toLowerCase();let r=0,s=0;return t.forEach(c=>{o.includes(c)&&r++}),a.forEach(c=>{o.includes(c)&&s++}),r>s?{label:"Positive",color:"green"}:s>r?{label:"Negative",color:"red"}:{label:"Neutral",color:"gray"}},C=async()=>{const n=[];try{const i=await f.get(A,{params:{lang:"EN",api_key:B,categories:"BTC",sortOrder:"latest",limit:6}});i.data.Type===100&&i.data.Data&&i.data.Data.forEach(t=>{var a;n.push({title:t.title,description:t.body||t.title,content:t.body||t.title,url:t.url,image:t.imageurl||"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=500&auto=format&fit=crop&q=60",publishedAt:new Date(t.published_on*1e3).toISOString(),source:{name:((a=t.source_info)==null?void 0:a.name)||t.source,url:t.url},sentiment:d(t.title,t.body)})})}catch{console.log("CryptoCompare API not available, trying alternative sources")}if(n.length===0)try{}catch{console.log("NewsAPI not available, trying CryptoPanic")}if(n.length===0)try{(await f.get("https://cryptopanic.com/api/v1/posts/",{params:{currencies:"BTC",public:"true",kind:"news"}})).data.results.slice(0,6).forEach(t=>{var a,o,r,s,c;n.push({title:t.title,description:((a=t.metadata)==null?void 0:a.description)||t.title,content:((o=t.metadata)==null?void 0:o.description)||t.title,url:t.url,image:((r=t.metadata)==null?void 0:r.image)||"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=500&auto=format&fit=crop&q=60",publishedAt:t.published_at,source:{name:((s=t.source)==null?void 0:s.title)||"CryptoPanic",url:t.url},sentiment:d(t.title,(c=t.metadata)==null?void 0:c.description)})})}catch{console.log("CryptoPanic API not available, using fallback sources")}if(n.length<6){const i=D();n.push(...i.slice(0,6-n.length))}return n.slice(0,6)},D=()=>{const n=new Date,i=t=>new Date(n.getTime()-t*60*60*1e3).toISOString();return[{title:"Bitcoin ETF Approval Drives Institutional Adoption to New Heights",description:"Major financial institutions are increasing their Bitcoin exposure following recent ETF approvals, signaling growing mainstream acceptance of cryptocurrency investments.",content:"The approval of Bitcoin ETFs has opened the floodgates for institutional investment, with pension funds, insurance companies, and sovereign wealth funds now allocating portions of their portfolios to Bitcoin.",url:"https://www.coindesk.com/markets/2024/01/10/bitcoin-etf-approval-drives-institutional-adoption/",image:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=500&auto=format&fit=crop&q=60",publishedAt:i(2),source:{name:"CoinDesk",url:"https://coindesk.com"},sentiment:d("Bitcoin ETF Approval Drives Institutional Adoption to New Heights","Major financial institutions are increasing their Bitcoin exposure")},{title:"Bitcoin Network Hash Rate Reaches All-Time High Amid Mining Efficiency Improvements",description:"The Bitcoin network's hash rate has surged to unprecedented levels, demonstrating the network's growing security and miner confidence in the cryptocurrency's long-term value.",content:"Bitcoin's hash rate has reached new all-time highs, indicating strong miner confidence and network security. This development comes as mining technology becomes more efficient and sustainable.",url:"https://cointelegraph.com/bitcoin-news/bitcoin-hash-rate-reaches-all-time-high/",image:"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=500&auto=format&fit=crop&q=60",publishedAt:i(4),source:{name:"Cointelegraph",url:"https://cointelegraph.com"},sentiment:d("Bitcoin Network Hash Rate Reaches All-Time High","The Bitcoin network's hash rate has surged to unprecedented levels")},{title:"Central Bank Digital Currency Developments Impact Bitcoin Market Dynamics",description:"As central banks worldwide explore digital currencies, Bitcoin continues to position itself as a decentralized alternative, with market analysts noting increased institutional interest.",content:"The development of central bank digital currencies (CBDCs) has created a new dynamic in the cryptocurrency space, with Bitcoin emerging as a hedge against centralized monetary systems.",url:"https://bitcoinmagazine.com/markets/cbdc-impact-bitcoin-market-dynamics",image:"https://images.unsplash.com/photo-1621504450181-5d356f61d307?w=500&auto=format&fit=crop&q=60",publishedAt:i(6),source:{name:"Bitcoin Magazine",url:"https://bitcoinmagazine.com"},sentiment:d("Central Bank Digital Currency Developments Impact Bitcoin Market Dynamics","Bitcoin continues to position itself as a decentralized alternative")},{title:"Bitcoin Lightning Network Adoption Accelerates with New Payment Solutions",description:"The Lightning Network is experiencing rapid growth as more businesses and individuals adopt Bitcoin for everyday transactions, reducing fees and improving scalability.",content:"Lightning Network adoption is accelerating globally, with new payment solutions making Bitcoin more practical for daily use. This development addresses long-standing scalability concerns.",url:"https://decrypt.co/bitcoin-lightning-network-adoption-accelerates",image:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=500&auto=format&fit=crop&q=60",publishedAt:i(8),source:{name:"Decrypt",url:"https://decrypt.co"},sentiment:d("Bitcoin Lightning Network Adoption Accelerates","The Lightning Network is experiencing rapid growth")},{title:"Regulatory Clarity Boosts Bitcoin Adoption in Emerging Markets",description:"Clear regulatory frameworks in several emerging economies are driving increased Bitcoin adoption, with governments recognizing the potential benefits of cryptocurrency integration.",content:"Emerging markets are leading Bitcoin adoption as regulatory clarity improves. Countries are developing frameworks that balance innovation with consumer protection.",url:"https://www.coindesk.com/policy/2024/01/15/regulatory-clarity-boosts-bitcoin-adoption-emerging-markets/",image:"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=500&auto=format&fit=crop&q=60",publishedAt:i(12),source:{name:"CoinDesk",url:"https://coindesk.com"},sentiment:d("Regulatory Clarity Boosts Bitcoin Adoption in Emerging Markets","Clear regulatory frameworks are driving increased Bitcoin adoption")},{title:"Bitcoin's Environmental Impact: Mining Industry Shifts to Renewable Energy",description:"The Bitcoin mining industry is increasingly adopting renewable energy sources, addressing environmental concerns and improving the network's sustainability profile.",content:"Bitcoin mining operations worldwide are transitioning to renewable energy sources, significantly reducing the network's carbon footprint and addressing environmental sustainability concerns.",url:"https://cointelegraph.com/bitcoin-news/bitcoin-mining-renewable-energy-sustainability/",image:"https://images.unsplash.com/photo-1466611653911-95081537e5b7?w=500&auto=format&fit=crop&q=60",publishedAt:i(16),source:{name:"Cointelegraph",url:"https://cointelegraph.com"},sentiment:d("Bitcoin's Environmental Impact: Mining Industry Shifts to Renewable Energy","The Bitcoin mining industry is increasingly adopting renewable energy sources")}]},E=async n=>{try{return n.toLowerCase()==="bitcoin"?await C():x(n)}catch(i){return console.error("Error fetching news:",i),x(n)}},x=n=>[{title:`${n} tăng giá mạnh, nhà đầu tư lạc quan`,description:`Giá ${n} đã tăng 15% trong tuần qua, các chuyên gia dự đoán xu hướng tích cực sẽ tiếp tục.`,content:`Giá ${n} đã tăng 15% trong tuần qua, các chuyên gia dự đoán xu hướng tích cực sẽ tiếp tục. Nhiều nhà đầu tư đang tích cực mua vào.`,url:"#",image:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y3J5cHRvY3VycmVuY3l8ZW58MHx8MHx8fDA%3D",publishedAt:new Date().toISOString(),source:{name:"CryptoNews",url:"#"},sentiment:{label:"Tích cực",color:"green"}},{title:`Các nhà phân tích cảnh báo về sự sụp đổ của ${n}`,description:`Một số chuyên gia cảnh báo về nguy cơ giảm giá của ${n} trong tháng tới.`,content:`Một số chuyên gia cảnh báo về nguy cơ giảm giá của ${n} trong tháng tới. Các yếu tố vĩ mô có thể ảnh hưởng tiêu cực đến thị trường.`,url:"#",image:"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8Y3J5cHRvY3VycmVuY3l8ZW58MHx8MHx8fDA%3D",publishedAt:new Date().toISOString(),source:{name:"CryptoAnalysis",url:"#"},sentiment:{label:"Tiêu cực",color:"red"}},{title:`${n} ổn định trong bối cảnh thị trường biến động`,description:`Giá ${n} duy trì ổn định trong khi các đồng tiền khác biến động mạnh.`,content:`Giá ${n} duy trì ổn định trong khi các đồng tiền khác biến động mạnh. Điều này cho thấy sự tin tưởng của nhà đầu tư vào đồng tiền này.`,url:"#",image:"https://images.unsplash.com/photo-1621504450181-5d356f61d307?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fGNyeXB0b2N1cnJlbmN5fGVufDB8fDB8fHww",publishedAt:new Date().toISOString(),source:{name:"CryptoDaily",url:"#"},sentiment:{label:"Trung tính",color:"gray"}}],T=n=>{const[i,t]=m.useState([]),[a,o]=m.useState(!0),[r,s]=m.useState(null),[c,p]=m.useState(null),h=l=>({BTC:"Bitcoin",ETH:"Ethereum",ADA:"Cardano",SOL:"Solana",DOT:"Polkadot"})[l]||"Cryptocurrency",g=m.useCallback(async()=>{try{o(!0),s(null);const l=h(n),w=await E(l);t(w),p(new Date().toISOString())}catch(l){s("Không thể tải tin tức. Vui lòng thử lại sau."),console.error(l)}finally{o(!1)}},[n]);return m.useEffect(()=>{g();const l=setInterval(g,5*60*1e3);return()=>clearInterval(l)},[g]),{news:i,loading:a,error:r,cryptoName:h(n),lastUpdated:c,refetch:g}},M=({article:n,index:i})=>{const{t}=b(),{title:a,url:o,image:r,sentiment:s,publishedAt:c,source:p}=n,h=l=>{const w=new Date(l);return new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(w)},g=s.label===t("news.sentiment.positive")?e.jsx(j,{size:16,className:"mr-1"}):s.label===t("news.sentiment.negative")?e.jsx(k,{size:16,className:"mr-1"}):null;return e.jsx(u.div,{className:"news-card-container",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.5,delay:i*.1},children:e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"block h-full",children:e.jsxs("div",{className:`news-card ${s.color==="green"?"positive-sentiment":s.color==="red"?"negative-sentiment":"neutral-sentiment"}`,children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx(u.img,{src:r,alt:a,className:"card-image w-full",loading:"lazy",whileHover:{scale:1.05},transition:{duration:.3}}),e.jsxs("div",{className:"sentiment-badge",children:[g,s.label]})]}),e.jsxs("div",{className:"card-content",children:[e.jsx("h3",{className:"card-title",children:a}),e.jsxs("div",{className:"card-footer",children:[e.jsx("span",{className:"source-tag",children:p.name}),e.jsx("span",{className:"date-text",children:h(c)})]})]})]})})})},I=({cryptoSymbol:n})=>{const{t:i}=b(),{news:t,loading:a,error:o,cryptoName:r,lastUpdated:s,refetch:c}=T(n);return a?e.jsx("section",{id:"news",className:"py-20 bg-gray-800",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-white",children:i("news.loading")}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-400"})})]})})}):o?e.jsx("section",{id:"news",className:"py-20 bg-gray-800",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-white",children:i("news.error")}),e.jsx("p",{className:"text-red-400",children:o})]})})}):e.jsx("section",{id:"news",className:"py-20 bg-gray-800",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs(u.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(u.div,{className:"inline-block",whileHover:{scale:1.05},children:e.jsx("span",{className:"inline-block px-3 py-1 text-xs font-semibold bg-blue-500/20 text-blue-400 rounded-full",children:i("news.badge")})}),s&&e.jsxs("span",{className:"ml-4 text-sm text-gray-400",children:["Last updated: ",new Date(s).toLocaleTimeString()]})]}),e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:[i("news.title")," ",e.jsx("span",{className:"text-blue-400",children:r})]}),e.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:i("news.subtitle")})]}),e.jsx("div",{className:"news-grid",children:t.map((p,h)=>e.jsx(M,{article:p,index:h},h))}),e.jsx(u.div,{className:"mt-12 text-center",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.5},children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs(u.button,{onClick:c,className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(v,{size:16,className:"mr-2"}),"Refresh News"]}),e.jsxs(u.a,{href:"#",className:"inline-flex items-center text-blue-400 hover:text-blue-300 transition-colors font-medium",whileHover:{x:5},children:[i("common.viewAll")," ",e.jsx(N,{size:16,className:"ml-2"})]})]})})]})})},R=n=>{const{t:i}=b();return e.jsx(m.Suspense,{fallback:e.jsx("section",{className:"py-20 bg-gray-800",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-white",children:i("news.loading")}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-400"})})]})}),children:e.jsx(I,{...n})})};export{R as default};
